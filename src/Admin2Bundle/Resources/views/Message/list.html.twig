{% extends 'Admin2Bundle::layout.html.twig' %}

{% block page_title %}Messages{% endblock %}
{% block page_subtitle %}Liste{% endblock %}

{% block page_content %}


<div class="box">

  <div class="box-body">
      <table class="table">
        <thead>
        <tr>
          <th>
            Conversation
          </th>
          <th>
            User
          </th>
          <th>
            Message
          </th>
          <th>
            Actions
          </th>
        </tr>
        </thead>

        <tbody>

          {% for message in messages %}

            <tr>
              <td>
                {{ message.thread.subject }}<br />
                Produit: {{ message.thread.product.name }} - ID = {{ message.thread.product.id }}
              </td>
              <td><a href="{{ path('easyadmin', {'entity': 'User', 'action': 'edit', 'id': message.sender.id}) }}">{{ message.sender.username }}</a></td>
              <td style="width: 50%">
                {{ message.body|raw }}<br /><br />
                <p>Envoy√© le <b>{{ message.createdAt|date('d/m/Y H:i') }}</b></p>
              </td>
              <td>
                <a class="btn btn-primary" href="{{ path('ad2_thread', {id: message.thread.id }) }}">Conversation</a>
              </td>

            </tr>

          {% endfor %}

        </tbody>
      </table>
    </div>


  </div>
</div>


{% endblock %}
