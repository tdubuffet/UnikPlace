{% trans_default_domain 'FOSUserBundle' %}

{% block body %}
    <div class="account-login">
        <div class="row">
            <div class="col-sm-6 hidden-xs">
                <img src="{{ asset('bundles/app/images/pinewood.jpg') }}" class="img-responsive"/>
            </div>
            <div class="col-sm-6">
                <h1>{{ 'register.title-h1'|trans }}</h1>

                {{ form_start(form, {'method': 'post', 'action': path('fos_user_registration_register', { 'redirect': app.request.get('redirect')}), 'attr': {'class': 'fos_user_registration_register', 'id': 'signup-form'}}) }}
                <div class="form-group">
                    <div class="btn-group type-user" data-toggle="buttons">
                        <label class="btn btn-default btn-type-user">
                            {{ form_widget(form.pro.0, {'attr': {'class': 'radioTypeUser'}, 'label': 'entity.user.type-part'}) }}
                        </label>
                        <label class="btn btn-default btn-type-user">
                            {{ form_widget(form.pro.1, {'attr': {'class': 'radioTypeUser'}, 'label': 'entity.user.type-pro'}) }}
                        </label>
                    </div>

                    <div class="showErrorPro"></div>
                    {{ form_errors(form.pro) }}
                </div>

                <div class="data-user">

                    {% if app.request.get('email_registration') %}
                        {% set attrEmail = {'class': 'form-control', 'value': app.request.get('email_registration')} %}
                    {% else %}
                        {% set attrEmail = {'class': 'form-control'} %}
                    {% endif %}

                    <div class="row clearfix">
                        <div class="col-md-4 form-group">
                            {{ form_label(form.civility, 'entity.user.civility', {"label_attr:": { 'class': 'required'}}) }}
                            {{ form_widget(form.civility, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.civility) }}
                        </div>
                        <div class="col-md-4 form-group">
                            {{ form_label(form.firstname, 'entity.user.firstname', {"label_attr:": { 'class': 'required'}}) }}
                            {{ form_widget(form.firstname, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.firstname) }}
                        </div>
                        <div class="col-md-4 form-group">
                            {{ form_label(form.lastname, 'entity.user.lastname', {"label_attr:": { 'class': 'required'}}) }}
                            {{ form_widget(form.lastname, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.lastname) }}
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="required">{{ 'entity.user.email'|trans }}</label>
                                {{ form_widget(form.email, {'attr': attrEmail}) }}
                                {{ form_errors(form.email) }}
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="required">{{ 'entity.user.birthday'|trans }}</label>
                                <div class="clearfix">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            {{ form_widget(form.birthday.day, {'attr': {'class': 'form-control'}}) }}
                                        </div>
                                        <div class="col-xs-4">
                                            {{ form_widget(form.birthday.month, {'attr': {'class': 'form-control'}}) }}
                                        </div>
                                        <div class="col-xs-4">
                                            {{ form_widget(form.birthday.year, {'attr': {'class': 'form-control'}}) }}
                                        </div>
                                    </div>
                                </div>
                                {{ form_errors(form.birthday) }}
                            </div>
                        </div>
                    </div>


                    <div class="form-group">
                        <label class="required">{{ 'entity.user.phone'|trans }}</label>
                        {{ form_widget(form.phone, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.phone) }}
                    </div>

                    <div class="form-group">
                        <label class="required">{{ 'form.password'|trans }}</label>
                        {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.plainPassword.first) }}
                    </div>
                    <div class="form-group">
                        <label class="required">{{ 'form.password_confirmation'|trans }}</label>
                        {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.plainPassword.second) }}
                    </div>
                    <div class="form-group">
                        <label class="required">{{ 'entity.user.nationality'|trans }}</label>
                        {{ form_widget(form.nationality, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.nationality) }}
                    </div>
                    <div class="form-group">
                        <label class="required">{{ 'entity.user.residential-country'|trans }}</label>
                        {{ form_widget(form.residential_country, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.residential_country) }}
                    </div>

                    <div class="pro-user-fields" style="display: none">
                        <div class="form-group">
                            <label class="required">{{ 'entity.user.company-code'|trans }}</label>
                            {{ form_widget(form.company_code, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.company_code) }}
                        </div>
                        <div class="form-group">
                            <label class="required">{{ 'entity.user.company-name'|trans }}</label>
                            {{ form_widget(form.company_name, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.company_name) }}
                        </div>

                        <div class="form-group">
                            {{ form_row(form.street) }}
                        </div>
                    </div>
                </div>

                {{ form_rest(form) }}

                <p>{{ 'register.mandatory-fields'|trans }}</p>

                <p><input type="submit" class="btn btn-primary" value="{{ 'registration.submit'|trans }}"/></p>

                {{ form_end(form) }}

                <p>{{ 'register.social-network'|trans }}</p>

                <p><a href="{{ path('facebook_connect') }}" class="btn btn-facebook"><i class="fa fa-facebook"></i> {{ 'register.facebook-btn'|trans }}</a></p>

                <p><a href="{{ path('fos_user_security_login') }}">{% autoescape false %}{{ 'register.login'|trans }}{% endautoescape %}</a></p>

            </div><!-- col -->
        </div><!-- .row -->
    </div><!-- .account-login -->
{% endblock %}
